#include <iostream>
#include <fstream>

using namespace std;
ifstream fin("matrice.in");
int l[101],a[101][101],p,n;
void citire() //-citeste matricea
{

    fin>>n;
    for(int i=1;i<=n;i++)
        for(int j=1;j<=n;j++)
         fin>>a[i][j];

}
void citirelant() //-citeste lantul
{
    fin>>p;
    for(int i=1;i<=p;i++)
        fin>>l[i];
}
int lant() //-verifica daca e lant
    {
        bool OK=1; //pp ca este lant
        for(int i=1;i<=p-1;i++)
        {
            if(a[l[i]][l[i+1]]==0)
                OK=false;
        }
        return OK;

    }

int ciclu()  //-verifica daca e ciclu

{
    int OK=1;
    if(lant()==0)
        {OK=0;
        return OK;}
    if(l[1]!=l[p])
        {OK=0;
        return OK;};
    return OK;
}

int elementar() //-verifica daca e elementar
{
    int OK2=1;
    for(int i=1;i<=p-1;i++)
        for(int j=i+1;j<=p;j++)
    if(l[i]==l[j])
      OK2=0;
    return OK2;
}

int grad (int x) //-da gradul unui nod
{
    int s=0,j;
    for(j=1;j<=n;j++)
        s=s+a[x][j];
    return s;
}
int main()
{
    citire();
    citirelant();
    if(lant()==1)
    {
        cout<<"Lant ";
        if(elementar()==1)
            cout<<"elementar";
        else
            cout<<"neelementar";

    }
    else
        cout<<"Nu e lant";
    cout<<endl<<endl;
    for(int i=1;i<=n;i++)
        cout<<"Gradul nodului "<<i<<" este "<<grad(i)<<endl;


    return 0;
}


matrice.in:
5
0 1 0 1 1
1 0 1 0 0
0 1 0 1 0
1 0 1 0 1
1 0 0 1 0
4
1 2 3 4
